{"version":3,"sources":["components/chartGenerator.js","components/graphWrapper.js","App.js","index.js","components/graph.module.css"],"names":["chartGenerator","container","linksData","nodesData","nodeHoverTooltip","links","map","d","Object","assign","nodes","containerRect","getBoundingClientRect","height","width","drag","simulation","d3","on","active","alphaTarget","restart","fx","x","fy","y","document","querySelector","tooltipDiv","createElement","classList","add","styles","tooltip","style","opacity","id","body","appendChild","div","addTooltip","hoverTooltip","transition","duration","html","removeTooltip","force","strength","svg","append","attr","call","transform","link","selectAll","data","join","Math","sqrt","value","classed","collapsed","this","tooltipContent","source","target","pageX","pageY","node","label","enter","gender","male","female","getClass","text","icon","name","type","destroy","stop","GraphWrapper","containerRef","React","useRef","useEffect","destroyFn","current","ref","className","App","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4061e8ed.chunk.js","sourcesContent":["import * as d3 from \"d3\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport styles from \"./graph.module.css\";\r\n\r\nexport function chartGenerator(\r\n  container,\r\n  linksData,\r\n  nodesData,\r\n  nodeHoverTooltip\r\n) {\r\n  const links = linksData.map((d) => Object.assign({}, d));\r\n  const nodes = nodesData.map((d) => Object.assign({}, d));\r\n\r\n\r\n  const containerRect = container.getBoundingClientRect();\r\n  const height = containerRect.height;\r\n  const width = containerRect.width;\r\n\r\n  const color = () => { return \"#9D00A0\"; };\r\n\r\n  const icon = (d) => {\r\n    return d.gender === \"male\" ? \"\\uf183\" : \"\\uf182\";\r\n  }\r\n\r\n  const getClass = (d) => {\r\n    return d.gender === \"male\" ? styles.male : styles.female;\r\n  };\r\n\r\n  const drag = (simulation) => {\r\n    const dragstarted = (d) => {\r\n      if (!d3.event.active) simulation.alphaTarget(0.3).restart();\r\n      d.fx = d.x;\r\n      d.fy = d.y;\r\n    };\r\n\r\n    const dragged = (d) => {\r\n      d.fx = d3.event.x;\r\n      d.fy = d3.event.y;\r\n    };\r\n\r\n    const dragended = (d) => {\r\n      if (!d3.event.active) simulation.alphaTarget(0);\r\n      d.fx = null;\r\n      d.fy = null;\r\n    };\r\n\r\n    return d3\r\n      .drag()\r\n      .on(\"start\", dragstarted)\r\n      .on(\"drag\", dragged)\r\n      .on(\"end\", dragended);\r\n  };\r\n\r\n\r\n\r\n  // Add the tooltip element to the graph\r\n  const tooltip = document.querySelector(\"#graph-tooltip\");\r\n  if (!tooltip) {\r\n    const tooltipDiv = document.createElement(\"div\");\r\n    tooltipDiv.classList.add(styles.tooltip);\r\n    tooltipDiv.style.opacity = \"0\";\r\n    tooltipDiv.id = \"graph-tooltip\";\r\n    document.body.appendChild(tooltipDiv);\r\n  }\r\n  const div = d3.select(\"#graph-tooltip\");\r\n\r\n  const addTooltip = (hoverTooltip, d, x, y) => {\r\n    div\r\n      .transition()\r\n      .duration(200)\r\n      .style(\"opacity\", 0.9);\r\n    div\r\n      .html(d)\r\n      .style(\"left\", `${x}px`)\r\n      .style(\"top\", `${y - 28}px`);\r\n  };\r\n\r\n  const removeTooltip = () => {\r\n    div\r\n      .transition()\r\n      .duration(200)\r\n      .style(\"opacity\", 0);\r\n  };\r\n\r\n  const simulation = d3\r\n    .forceSimulation(nodes)\r\n    .force(\"link\", d3.forceLink(links).id(d => d.id))\r\n    .force(\"charge\", d3.forceManyBody().strength(-150))\r\n    .force(\"x\", d3.forceX())\r\n    .force(\"y\", d3.forceY());\r\n\r\n\r\n  const svg = d3\r\n    .select(container)\r\n    .append(\"svg\")\r\n    .attr(\"viewBox\", [-width / 2, -height / 2, width, height])\r\n    .call(d3.zoom().on(\"zoom\", function () {\r\n      svg.attr(\"transform\", d3.event.transform);\r\n    }));\r\n\r\n\r\n  const link = svg\r\n    .append(\"g\")\r\n    .attr(\"stroke\", \"#999\")\r\n    .attr(\"stroke-opacity\", 0.8)\r\n    .selectAll(\"line\")\r\n    .data(links)\r\n    .join(\"line\")\r\n    .attr(\"stroke-width\", d => Math.sqrt(d.value))\r\n    .classed(\"collapsed\", d => d.collapsed) // Add the initial class based on collapsed state\r\n    .on(\"mouseover\", function (d) {\r\n      d.collapsed = !d.collapsed;\r\n      d3.select(this).classed(\"collapsed\", d.collapsed);\r\n      if (!d.collapsed) {\r\n        // Show link details in a tooltip\r\n        const tooltipContent = `Link Details: <br> Source: ${d.source.id} <br> Target: ${d.target.id}`;\r\n        const [x, y] = d3.mouse(this);\r\n        addTooltip(nodeHoverTooltip, tooltipContent, d3.event.pageX, d3.event.pageY);\r\n      } else {\r\n        removeTooltip();\r\n      }\r\n\r\n    });\r\n\r\n\r\n  const node = svg\r\n    .append(\"g\")\r\n    .attr(\"stroke\", \"#fff\")\r\n    .attr(\"stroke-width\", 2)\r\n    .selectAll(\"circle\")\r\n    .data(nodes)\r\n    .join(\"circle\")\r\n    .attr(\"r\", 12)\r\n    .attr(\"fill\", color)\r\n    .call(drag(simulation));\r\n\r\n  const label = svg.append(\"g\")\r\n    .attr(\"class\", \"labels\")\r\n    .selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr('text-anchor', 'middle')\r\n    .attr('dominant-baseline', 'central')\r\n    .attr(\"class\", d => `fa ${getClass(d)}`)\r\n    .text(d => { return icon(d); })\r\n    .call(drag(simulation));\r\n\r\n  label.on(\"mouseover\", (d) => {\r\n\r\n    const tooltipContent = `Node Details: <br> user: ${d.name} <br> type: ${d.type} <br> Gender: ${d.gender}`;\r\n\r\n    addTooltip(nodeHoverTooltip, tooltipContent, d3.event.pageX, d3.event.pageY);\r\n  })\r\n    .on(\"mouseout\", () => {\r\n      removeTooltip();\r\n    });\r\n\r\n  simulation.on(\"tick\", () => {\r\n    //update link positions\r\n    link\r\n      .attr(\"x1\", d => d.collapsed ? d.source.x : d.source.x)\r\n      .attr(\"y1\", d => d.collapsed ? d.source.y : d.source.y)\r\n      .attr(\"x2\", d => d.collapsed ? d.target.x : d.target.x)\r\n      .attr(\"y2\", d => d.collapsed ? d.target.y : d.target.y);\r\n    // update node positions\r\n    node\r\n      .attr(\"cx\", d => d.x)\r\n      .attr(\"cy\", d => d.y);\r\n\r\n    // update label positions\r\n    label\r\n      .attr(\"x\", d => { return d.x; })\r\n      .attr(\"y\", d => { return d.y; })\r\n\r\n  });\r\n\r\n  return {\r\n    destroy: () => {\r\n      simulation.stop();\r\n    },\r\n    nodes: () => {\r\n      return svg.node();\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { chartGenerator } from \"./chartGenerator\";\r\nimport styles from \"./graph.module.css\";\r\n\r\nexport function GraphWrapper({ linksData, nodesData, nodeHoverTooltip }) {\r\n  const containerRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    let destroyFn;\r\n\r\n    if (containerRef.current) {\r\n      const { destroy } = chartGenerator(containerRef.current, linksData, nodesData, nodeHoverTooltip);\r\n      destroyFn = destroy;\r\n    }\r\n\r\n    return destroyFn;\r\n  }, []);\r\n\r\n  return <div ref={containerRef} className={styles.container} />;\r\n}\r\n","import React from 'react';\nimport data from './data/data.json';\nimport { GraphWrapper } from \"./components/graphWrapper\";\nimport './App.css';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        AccuKnox Node Graph\n      </header>\n      <section className=\"Main\">\n        <GraphWrapper linksData={data.links} nodesData={data.nodes} />\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"graph_container__15_BN\",\"male\":\"graph_male__1g3sM\",\"female\":\"graph_female__PNYQ-\",\"node\":\"graph_node__1v3M8\",\"tooltip\":\"graph_tooltip__35LEi\"};"],"sourceRoot":""}